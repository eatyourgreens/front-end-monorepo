/*! For license information please see 86.f3ed7694.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_zooniverse_subject_viewers=self.webpackChunk_zooniverse_subject_viewers||[]).push([[86],{"./src/VolumetricViewer/components/ComponentFull.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>ComponentFull});var _templateObject,Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Cube=__webpack_require__("./src/VolumetricViewer/components/Cube.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react=__webpack_require__("../../node_modules/react/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var Histogram_templateObject,DEFAULT_HANDLER=function DEFAULT_HANDLER(){},StyledContainer=styled_components_browser_esm.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  min-height: 16px;\n  transform: translateY(-3px);\n\n  .range-slider-container {\n    flex-grow: 1;\n    position: relative;\n\n    .range-slider-dual {\n      -webkit-appearance: none;\n      appearance: none;\n      background-color: #A6A7A9;\n      border-radius: 4px;\n      height: 4px;\n      pointer-events: none;\n      position: absolute;\n      width: 100%;\n    }\n\n    .range-slider-dual::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      background-color: #005D69;\n      border-radius: 50%;\n      cursor: pointer;\n      height: 16px;\n      pointer-events: all;\n      width: 16px;\n    }\n\n    .range-slider-dual::-moz-range-thumb {\n\t\t\tbackground-color: #005D69;\n      border-radius: 50%;\n      cursor: pointer;\n      height: 16px;\n      pointer-events: all;\n      width: 16px;\n    }\n\n    .range-slider-lower-value {\n      height: 0;\n      transform: translateY(2px);\n      z-index: 1;\n    }\n  }\n"],["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  min-height: 16px;\n  transform: translateY(-3px);\n\n  .range-slider-container {\n    flex-grow: 1;\n    position: relative;\n\n    .range-slider-dual {\n      -webkit-appearance: none;\n      appearance: none;\n      background-color: #A6A7A9;\n      border-radius: 4px;\n      height: 4px;\n      pointer-events: none;\n      position: absolute;\n      width: 100%;\n    }\n\n    .range-slider-dual::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      background-color: #005D69;\n      border-radius: 50%;\n      cursor: pointer;\n      height: 16px;\n      pointer-events: all;\n      width: 16px;\n    }\n\n    .range-slider-dual::-moz-range-thumb {\n\\\t\t\tbackground-color: #005D69;\n      border-radius: 50%;\n      cursor: pointer;\n      height: 16px;\n      pointer-events: all;\n      width: 16px;\n    }\n\n    .range-slider-lower-value {\n      height: 0;\n      transform: translateY(2px);\n      z-index: 1;\n    }\n  }\n"]))),InputRangeDual=function InputRangeDual(_ref){var _ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?DEFAULT_HANDLER:_ref$onChange,_ref$valueMax=_ref.valueMax,valueMax=void 0===_ref$valueMax?100:_ref$valueMax,_ref$valueMaxCurrent=_ref.valueMaxCurrent,valueMaxCurrent=void 0===_ref$valueMaxCurrent?75:_ref$valueMaxCurrent,_ref$valueMin=_ref.valueMin,valueMin=void 0===_ref$valueMin?0:_ref$valueMin,_ref$valueMinCurrent=_ref.valueMinCurrent,valueMinCurrent=void 0===_ref$valueMinCurrent?25:_ref$valueMinCurrent,_useState2=_slicedToArray((0,react.useState)({valueMax,valueMin,valueMaxCurrent,valueMinCurrent}),2),state=_useState2[0],setState=_useState2[1];var inChange=function inChange(ev){var name=ev.target.name,value=parseInt(ev.target.value,10);"valueMaxCurrent"===name&&value<state.valueMinCurrent?value=state.valueMinCurrent:"valueMinCurrent"===name&&value>state.valueMaxCurrent&&(value=state.valueMaxCurrent);var newObj=_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value));setState(newObj),onChange(newObj.valueMinCurrent,newObj.valueMaxCurrent)};return(0,jsx_runtime.jsx)(StyledContainer,{children:(0,jsx_runtime.jsxs)("div",{className:"range-slider-container",children:[(0,jsx_runtime.jsx)("input",{"aria-label":"Range slider minimum value",className:"range-slider-dual range-slider-lower-value",max:state.valueMax,min:state.valueMin,name:"valueMinCurrent",onChange:inChange,onInput:inChange,type:"range",value:state.valueMinCurrent}),(0,jsx_runtime.jsx)("input",{"aria-label":"Range slider max value",className:"range-slider-dual range-slider-upper-value",max:state.valueMax,min:state.valueMin,name:"valueMaxCurrent",onChange:inChange,onInput:inChange,style:{background:function fillSlider(){var rangeDistance=state.valueMax-state.valueMin,fromPosition=state.valueMinCurrent-state.valueMin,toPosition=state.valueMaxCurrent-state.valueMin;return"linear-gradient(\n      to right,\n      #A6A7A9 0%,\n      #A6A7A9 ".concat(fromPosition/rangeDistance*100,"%,\n      #FFFFFF ").concat(fromPosition/rangeDistance*100,"%,\n      #FFFFFF ").concat(toPosition/rangeDistance*100,"%, \n      #A6A7A9 ").concat(toPosition/rangeDistance*100,"%, \n      #A6A7A9 100%)")}()},type:"range",value:state.valueMaxCurrent})]})})};function Histogram_slicedToArray(r,e){return function Histogram_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function Histogram_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function Histogram_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Histogram_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Histogram_arrayLikeToArray(r,a):void 0}}(r,e)||function Histogram_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Histogram_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}InputRangeDual.displayName="InputRangeDual",InputRangeDual.propTypes={valueMax:prop_types.number,valueMin:prop_types.number,valueMaxCurrent:prop_types.number,valueMinCurrent:prop_types.number,onChange:prop_types.func},InputRangeDual.__docgenInfo={description:"",methods:[],displayName:"InputRangeDual",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},valueMax:{defaultValue:{value:"100",computed:!1},description:"",type:{name:"custom",raw:"number"},required:!1},valueMaxCurrent:{defaultValue:{value:"75",computed:!1},description:"",type:{name:"custom",raw:"number"},required:!1},valueMin:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"custom",raw:"number"},required:!1},valueMinCurrent:{defaultValue:{value:"25",computed:!1},description:"",type:{name:"custom",raw:"number"},required:!1}}};var StyledBox=(0,styled_components_browser_esm.default)(Box.a)(Histogram_templateObject||(Histogram_templateObject=function Histogram_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  max-width: 195px;\n"]))),Histogram=function Histogram(_ref){var viewer=_ref.viewer,_useState2=Histogram_slicedToArray((0,react.useState)(""),2),pathData=_useState2[0],setPathData=_useState2[1];return(0,react.useEffect)((function(){!function setupHistogram(){var histogram=[0];histogram[5]=0,histogram[255]=0,histogram[255]=0;var _maxCount=0;viewer.data.forEach((function(point){var _histogram$point;point<viewer.threshold.min||point>viewer.threshold.max||(histogram[point]=(null!==(_histogram$point=histogram[point])&&void 0!==_histogram$point?_histogram$point:0)+1,histogram[point]>_maxCount&&(_maxCount=histogram[point]))}));var scaleFactor=30/_maxCount;function calculateY(x){var _histogram$x;return(_maxCount-(null!==(_histogram$x=histogram[x])&&void 0!==_histogram$x?_histogram$x:0))*scaleFactor}for(var path="M 0, ".concat(calculateY(0)),x=1;x<histogram.length;x++)if(void 0!==histogram[x]){var y=calculateY(x);path+=" L ".concat(x,",").concat(y)}setPathData(path)}()}),[]),(0,jsx_runtime.jsxs)(StyledBox,{flex:!0,direction:"column",justify:"between",children:[(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 260 ".concat(35),width:"195px",height:"30px",children:(0,jsx_runtime.jsx)("path",{d:pathData,stroke:"white",strokeWidth:"3",fill:"none"})}),(0,jsx_runtime.jsx)(InputRangeDual,{onChange:function onChange(min,max){return viewer.setThreshold({min,max})},valueMax:255,valueMaxCurrent:viewer.threshold.max,valueMin:5,valueMinCurrent:viewer.threshold.min})]})};Histogram.displayName="Histogram",Histogram.propTypes={viewer:prop_types.object},Histogram.__docgenInfo={description:"",methods:[],displayName:"Histogram",props:{viewer:{description:"",type:{name:"custom",raw:"object"},required:!1}}};var Edit=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Edit.js"),Revert=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Revert.js"),Blank=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Blank.js");function DeleteIcon_typeof(o){return DeleteIcon_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DeleteIcon_typeof(o)}function DeleteIcon_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DeleteIcon_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DeleteIcon_ownKeys(Object(t),!0).forEach((function(r){DeleteIcon_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DeleteIcon_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DeleteIcon_defineProperty(e,r,t){return(r=function DeleteIcon_toPropertyKey(t){var i=function DeleteIcon_toPrimitive(t,r){if("object"!=DeleteIcon_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DeleteIcon_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DeleteIcon_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DeleteIcon(props){return(0,jsx_runtime.jsxs)(Blank.h,DeleteIcon_objectSpread(DeleteIcon_objectSpread({viewBox:"0 0 16 17"},props),{},{children:[(0,jsx_runtime.jsx)("path",{d:"M2.53473 2.80786L3.29384 14.3463C3.32989 15.013 3.84039 15.5001 4.50841 15.5001H11.4922C12.1629 15.5001 12.6639 15.013 12.7068 14.3463L13.4659 2.80786",stroke:"#A6A7A9",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jsx_runtime.jsx)("path",{d:"M1.31989 2.80786H14.6802",stroke:"#A6A7A9",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,jsx_runtime.jsx)("path",{d:"M5.57092 2.80769V1.36539C5.57056 1.25165 5.59389 1.13897 5.63954 1.03382C5.6852 0.928681 5.75228 0.83315 5.83694 0.752725C5.9216 0.672301 6.02215 0.60857 6.13283 0.565198C6.24351 0.521827 6.36212 0.499671 6.48184 0.500004H9.51827C9.63799 0.499671 9.7566 0.521827 9.86728 0.565198C9.97796 0.60857 10.0785 0.672301 10.1632 0.752725C10.2478 0.83315 10.3149 0.928681 10.3606 1.03382C10.4062 1.13897 10.4295 1.25165 10.4292 1.36539V2.80769M8.00006 5.11537V13.1923M5.26727 5.11537L5.57092 13.1923M10.7328 5.11537L10.4292 13.1923",stroke:"#A6A7A9",strokeLinecap:"round",strokeLinejoin:"round"})]}))}DeleteIcon.displayName="DeleteIcon";const components_DeleteIcon=DeleteIcon;DeleteIcon.__docgenInfo={description:"",methods:[],displayName:"DeleteIcon"};var Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),Tip=__webpack_require__("../../node_modules/grommet/es6/components/Tip/Tip.js"),_excluded=["active","a11yTitle","disabled","dropProps","icon","href","onBlur","onClick","onFocus","onPointerDown","onPointerOut","onPointerOver","onPointerUp","role"];function IconActionButton_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function IconActionButton_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?IconActionButton_ownKeys(Object(t),!0).forEach((function(r){IconActionButton_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):IconActionButton_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function IconActionButton_defineProperty(e,r,t){return(r=function IconActionButton_toPropertyKey(t){var i=function IconActionButton_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledButton=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"IconActionButton__StyledButton",componentId:"sc-j72o44-0"})(["align-items:center;aspect-ratio:1;background-color:",";border:1.5px solid transparent;border-radius:50%;display:flex;height:",";justify-content:center;width:",";> svg{fill:",";stroke:",";width:min(50%,1.2rem);}&:disabled{cursor:not-allowed;background-color:",";> svg{fill:",";}}&:hover:not(:disabled){background-color:",";> svg{fill:",";stroke:",";}.invert-icon{circle{fill:",";}path{fill:",";}}}&:focus-visible:not(:disabled){border:1.5px solid ",";box-shadow:0px 0px 8px ",";outline:none;}&:active:not(:disabled),&[aria-pressed='true'],&[aria-checked='true']{background-color:",";> svg{fill:",";stroke:",";}}"],(props=>props.theme.dark?props.theme.global.colors["dark-3"]:props.theme.global.colors["neutral-6"]),(props=>props.height||"40px"),(props=>props.width||"40px"),(props=>props.theme.dark?props.theme.global.colors["neutral-6"]:props.theme.global.colors["dark-5"]),(props=>props.theme.dark?props.theme.global.colors["neutral-6"]:props.theme.global.colors["dark-5"]),(props=>props.theme.global.colors["light-4"]),(props=>props.theme.global.colors["light-5"]),(props=>props.theme.global.colors["accent-1"]),(props=>props.theme.global.colors["neutral-6"]),(props=>props.theme.global.colors["neutral-6"]),(props=>props.theme.dark?props.theme.global.colors["accent-1"]:props.theme.global.colors["neutral-6"]),(props=>props.theme.dark?props.theme.global.colors["neutral-6"]:props.theme.global.colors["accent-1"]),(props=>props.theme.global.colors["accent-1"]),(props=>props.theme.global.colors["accent-1"]),(props=>props.theme.global.colors["neutral-1"]),(props=>props.theme.global.colors["neutral-6"]),(props=>props.theme.global.colors["neutral-6"])),HoverContent=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"IconActionButton__HoverContent",componentId:"sc-j72o44-1"})(["display:none;@media (hover:hover){display:flex;}"]),TipContent=_ref=>{var{message=""}=_ref;return(0,jsx_runtime.jsx)(HoverContent,{direction:"row",align:"center",width:"100%",animation:{delay:250,duration:200,type:"fadeIn"},children:(0,jsx_runtime.jsx)(Box.a,{background:"dark-4",round:"5px",pad:"5px",children:(0,jsx_runtime.jsx)(Text.E,{children:message})})})},DEFAULT_DROP_PROPS={align:{top:"bottom"}},IconActionButton_DEFAULT_HANDLER=()=>!0;function IconActionButton(_ref2){var{active=!1,a11yTitle,disabled=!1,dropProps=DEFAULT_DROP_PROPS,icon,href,onBlur=IconActionButton_DEFAULT_HANDLER,onClick=IconActionButton_DEFAULT_HANDLER,onFocus=IconActionButton_DEFAULT_HANDLER,onPointerDown=IconActionButton_DEFAULT_HANDLER,onPointerOut=IconActionButton_DEFAULT_HANDLER,onPointerOver=IconActionButton_DEFAULT_HANDLER,onPointerUp=IconActionButton_DEFAULT_HANDLER,role}=_ref2,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref2,_excluded),eventHandlers=disabled?{}:{onBlur,onClick,onFocus,onPointerDown,onPointerOut,onPointerOver,onPointerUp},ariaPressed="checkbox"===role||href?void 0:active.toString();return(0,jsx_runtime.jsx)(Tip.Y,{content:(0,jsx_runtime.jsx)(TipContent,{message:a11yTitle}),plain:!0,dropProps,children:(0,jsx_runtime.jsx)(StyledButton,IconActionButton_objectSpread(IconActionButton_objectSpread({a11yTitle,active,"aria-pressed":ariaPressed,disabled,href,icon,plain:!0,role},eventHandlers),props))})}IconActionButton.propTypes={active:prop_types.bool,a11yTitle:prop_types.string,disabled:prop_types.bool,dropProps:(0,prop_types.shape)({align:(0,prop_types.shape)({top:prop_types.string,bottom:prop_types.string,left:prop_types.string,right:prop_types.string})}),href:prop_types.string,icon:(0,prop_types.oneOfType)([prop_types.node,prop_types.object]),onBlur:prop_types.func,onClick:prop_types.func,onFocus:prop_types.func,onPointerDown:prop_types.func,onPointerOut:prop_types.func,onPointerOver:prop_types.func,onPointerUp:prop_types.func,role:prop_types.string,theme:(0,prop_types.shape)({dark:prop_types.bool})};const IconActionButton_IconActionButton=IconActionButton;var MarkButtons_templateObject;function MarkButtons_slicedToArray(r,e){return function MarkButtons_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function MarkButtons_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function MarkButtons_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return MarkButtons_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MarkButtons_arrayLikeToArray(r,a):void 0}}(r,e)||function MarkButtons_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MarkButtons_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var StyledMarkButtons=styled_components_browser_esm.default.div(MarkButtons_templateObject||(MarkButtons_templateObject=function MarkButtons_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  \n  button {\n      margin-right: 10px;\n  }\n"]))),MarkButtons=function MarkButtons(_ref){var annotations=_ref.annotations,_useState2=MarkButtons_slicedToArray((0,react.useState)(!0),2),isDisabled=_useState2[0],setIsDisabled=_useState2[1];function checkState(){setIsDisabled(null===annotations.config.activeAnnotation)}return(0,react.useEffect)((function(){return annotations.on("add:annotation",checkState),annotations.on("update:annotation",checkState),annotations.on("active:annotation",checkState),function(){annotations.off("add:annotation",checkState),annotations.off("update:annotation",checkState),annotations.off("active:annotation",checkState)}}),[]),(0,jsx_runtime.jsxs)(StyledMarkButtons,{children:[(0,jsx_runtime.jsx)(IconActionButton_IconActionButton,{a11yTitle:"Add a new mark",disabled:isDisabled,icon:(0,jsx_runtime.jsx)(Edit.f,{}),onClick:function markCreate(){annotations.actions.annotation.inactive()}}),(0,jsx_runtime.jsx)(IconActionButton_IconActionButton,{a11yTitle:"Undo last action on mark",disabled:isDisabled,icon:(0,jsx_runtime.jsx)(Revert.z,{}),onClick:function markUndo(){null!==annotations.config.activeAnnotation&&annotations.actions.point.undo({index:annotations.config.activeAnnotation})}}),(0,jsx_runtime.jsx)(IconActionButton_IconActionButton,{a11yTitle:"Delete last mark",disabled:isDisabled,icon:(0,jsx_runtime.jsx)(components_DeleteIcon,{}),onClick:function markDelete(){null!==annotations.config.activeAnnotation&&window.confirm("Are you sure you would like to delete this mark? This action cannot be undone.")&&annotations.actions.annotation.remove({index:annotations.config.activeAnnotation})}})]})};MarkButtons.displayName="MarkButtons",MarkButtons.__docgenInfo={description:"",methods:[],displayName:"MarkButtons"};var Slider_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,FormUp=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormUp.js"),FormDown=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormDown.js"),pointColor=__webpack_require__("./src/VolumetricViewer/helpers/pointColor.js"),ForwardTen=__webpack_require__("../../node_modules/grommet-icons/es6/icons/ForwardTen.js");function Slider_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Plane_templateObject,Plane_templateObject2,Plane_templateObject3,Plane_templateObject4,Plane_templateObject5,_templateObject6,_templateObject7,COLORS_active="#265B68",COLORS_black="#000",COLORS_hover="#ADDDE0",COLORS_white="#FFF",svgSliderStyles='\n  appearance: none;\n  background-image: url("data:image/svg+xml;base64,'.concat(btoa("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 32'>\n  <rect width='100%' height='100%' rx='8' ry='8' style='fill: rgb(0,93,105);' />\n  <path d='M16 10 l-7 6 l7 6;' style='stroke:rgb(173, 221, 224); stroke-width:2; fill: none;'/>\n  <path d='M24 10 l7 6 l-7 6;' style='stroke:rgb(173, 221, 224); stroke-width:2; fill: none;'/>\n</svg>"),'");\n  background-size: cover;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  height: 32px;\n  width: 40px;\n'),StyledSlider=(0,styled_components_browser_esm.default)(Box.a)(Slider_templateObject||(Slider_templateObject=Slider_taggedTemplateLiteral(['\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: 60px;\n  width: 60px;\n\n  input[type="range"] {\n    ',"\n    -webkit-appearance: none;\n    border-radius: 5px;\n    height: 4px;\n    transform: rotate(90deg) translateX(125px);\n    width: 250px;\n\n    &::-moz-range-thumb {\n      ","\n    }\n    &::-webkit-slider-thumb {\n      ","\n    }\n  }\n  \n  .plane-slider-forward {\n    ","\n    background: none;\n    border: none;\n    border-radius: 20px;\n    height: fit-content;\n    padding: 0;\n    width: fit-content;\n    \n    &:active {\n      background-color: ",";\n    }\n\n    svg {\n      height: 20px;\n      width: 20px;\n      padding: 10px;\n\n      &:hover, &:active {\n        stroke: ",";\n\n      }\n    }\n  }\n\n  @media (hover: hover) {\n    .plane-slider-forward:hover {\n      background-color: ",";\n      stroke: ",";\n    }\n\n    .plane-slider-forward:active {\n      background-color: ",";\n      stroke: ",";\n    }\n  }\n"])),(function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(_templateObject2||(_templateObject2=Slider_taggedTemplateLiteral(["background: ",";"])),COLORS_white):(0,styled_components_browser_esm.css)(_templateObject3||(_templateObject3=Slider_taggedTemplateLiteral(["background: ",";"])),COLORS_black)}),svgSliderStyles,svgSliderStyles,(function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(_templateObject4||(_templateObject4=Slider_taggedTemplateLiteral(["color: ",";"])),COLORS_white):(0,styled_components_browser_esm.css)(_templateObject5||(_templateObject5=Slider_taggedTemplateLiteral(["color: ",";"])),COLORS_black)}),COLORS_active,COLORS_white,COLORS_hover,COLORS_white,COLORS_active,COLORS_white),Slider=function Slider(_ref){var dimension=_ref.dimension,viewer=_ref.viewer,currentFrame=viewer.base-1-viewer.getPlaneFrameIndex({dimension});return(0,jsx_runtime.jsxs)(StyledSlider,{children:[(0,jsx_runtime.jsx)("button",{className:"plane-slider-forward no-select",onClick:function advanceFrame(){viewer.setPlaneFrameActive({dimension,frame:(viewer.getPlaneFrameIndex({dimension})-10+viewer.base)%viewer.base})},"aria-label":"Advance 10 Frames",children:(0,jsx_runtime.jsx)(ForwardTen.r,{})}),(0,jsx_runtime.jsx)("input",{"aria-label":"Plane ".concat(dimension," Slider"),max:viewer.base-1,min:"0",onChange:function inChange(e){var nextFrame=viewer.base-1-+e.target.value;viewer.setPlaneFrameActive({dimension,frame:nextFrame})},type:"range",value:currentFrame})]})};function Plane_typeof(o){return Plane_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Plane_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Plane_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(Plane_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function Plane_slicedToArray(r,e){return function Plane_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function Plane_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function Plane_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return Plane_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Plane_arrayLikeToArray(r,a):void 0}}(r,e)||function Plane_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Plane_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function Plane_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Slider.displayName="Slider",Slider.propTypes={dimension:prop_types.number,frame:prop_types.string,viewer:prop_types.object},Slider.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{dimension:{description:"",type:{name:"custom",raw:"number"},required:!1},frame:{description:"",type:{name:"custom",raw:"string"},required:!1},viewer:{description:"",type:{name:"custom",raw:"object"},required:!1}}};var ComponentFull_templateObject,ComponentFull_templateObject2,ComponentFull_templateObject3,Plane_StyledBox=(0,styled_components_browser_esm.default)(Box.a)(Plane_templateObject||(Plane_templateObject=Plane_taggedTemplateLiteral(["\n  ","\n\n  border-radius: 16px;\n  margin-bottom: 20px;\n  width: 390px;\n\n  button {\n    border: none;\n  }\n\n  &.expanded {\n    border-bottom-right-radius: 0px;\n  }\n\n  &.plane-container-0 {\n    border: 1px solid #E45950;\n  }\n\n  &.plane-container-1 {\n    border: 1px solid #06FE76;\n  }\n\n  &.plane-container-2 {\n    border: 1px solid #235DFF;\n  }\n  \n  .plane-title {\n    ","\n    align-items: center;\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n    display: flex;\n    flex-direction: row;\n    font-size: 24px;\n    height: ","px;\n\n    &.collapsed {\n      border-bottom-left-radius: 16px;\n      border-bottom-right-radius: 16px;\n    }\n\n    .plane-title-dimension {\n      text-align: center;\n      text-transform: uppercase;\n      width: ","px;\n    }\n\n    .plane-title-frame {\n      flex: 1;\n      font-size: 16px !important;\n      line-height: 18.7px;\n      text-align: left;\n    }\n\n    .plane-title-label {\n      ","\n      font-size: 12px;\n      line-height: 12px;\n    }\n\n    .plane-title-toggle {\n      align-items: center;\n      cursor: pointer;\n      display: flex;\n      margin-right: 10px;\n      padding: 6px;\n    }\n  }\n\n  .plane-content {\n    display: flex;\n    flex-direction: row;\n\n    .plane-canvas {\n      height: ","px;\n      transform: translateY(2px);\n      width: ","px;\n    }\n  }\n"])),(function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(Plane_templateObject2||(Plane_templateObject2=Plane_taggedTemplateLiteral(["background-color: #404040;"]))):(0,styled_components_browser_esm.css)(Plane_templateObject3||(Plane_templateObject3=Plane_taggedTemplateLiteral(["background-color: #EFF2F5;"])))}),(function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(Plane_templateObject4||(Plane_templateObject4=Plane_taggedTemplateLiteral(["background: linear-gradient(#5C5C5C, #404040);"]))):(0,styled_components_browser_esm.css)(Plane_templateObject5||(Plane_templateObject5=Plane_taggedTemplateLiteral(["background: linear-gradient(#FFFFFF, #EFF2F5);"])))}),60,60,(function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(_templateObject6||(_templateObject6=Plane_taggedTemplateLiteral(["color: #E2E5E9;"]))):(0,styled_components_browser_esm.css)(_templateObject7||(_templateObject7=Plane_taggedTemplateLiteral(["color: ##5C5C5C;"])))}),330,330),Plane=function Plane(_ref){var annotations=_ref.annotations,dimension=_ref.dimension,tool=_ref.tool,viewer=_ref.viewer,_useState2=Plane_slicedToArray((0,react.useState)(),2),hideCoor=_useState2[0],setHideCoor=_useState2[1],_useState4=Plane_slicedToArray((0,react.useState)(!1),2),expanded=_useState4[0],setExpanded=_useState4[1],_useState6=Plane_slicedToArray((0,react.useState)(0),2),currentFrameIndex=_useState6[0],setCurrentFrameIndex=_useState6[1],canvasRef=(0,react.useRef)(null),containerRef=(0,react.useRef)(null),planeId=(0,react.useId)(),frameCanvas=document.createElement("canvas");function drawFrame(_x){return _drawFrame.apply(this,arguments)}function _drawFrame(){return _drawFrame=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(e){var _canvasRef$current,context,data;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return context=frameCanvas.getContext("2d"),viewer.getPlaneFrame({dimension}).forEach((function(lines,x){lines.forEach((function(point,y){drawPoint({context,point,x,y})}))})),_context.next=5,window.createImageBitmap(frameCanvas,{resizeWidth:330,resizeHeight:330,resizeQuality:"pixelated"});case 5:data=_context.sent,null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current||_canvasRef$current.getContext("2d").drawImage(data,0,0),setCurrentFrameIndex(viewer.getPlaneFrameIndex({dimension}));case 8:case"end":return _context.stop()}}),_callee)}))),_drawFrame.apply(this,arguments)}function drawPoint(_ref2){var context=_ref2.context,point=_ref2.point,x=_ref2.x,y=_ref2.y,annotationIndex=viewer.getPointAnnotationIndex({point});if(viewer.isPointInThreshold({point})||-1!==annotationIndex){var isInactive=-1!==annotationIndex&&(null==annotations?void 0:annotations.config.activeAnnotation)!==annotationIndex;context.fillStyle=(0,pointColor.i)({annotationIndex,isInactive,pointValue:viewer.getPointValue({point}),threshold:viewer.threshold})}else context.fillStyle="#000";context.fillRect(x,y,1,1)}function onClick(e){if(null!=tool&&tool.events.click){var button=e.button,clientX=e.clientX,clientY=e.clientY,shiftKey=e.shiftKey,_canvasRef$current$ge=canvasRef.current.getBoundingClientRect(),left=_canvasRef$current$ge.left,top=_canvasRef$current$ge.top,pixelLength=330/viewer.base,x=Math.floor((clientX-left)/pixelLength),y=Math.floor((clientY-top)/pixelLength),point=viewer.getPlaneFrame({dimension})[x][y];tool.events.click&&tool.events.click({button,point,shiftKey}),e.preventDefault()}}return frameCanvas.width=viewer.base,frameCanvas.height=viewer.base,(0,react.useEffect)((function(){return setHideCoor(0!==dimension),setExpanded(0===dimension),drawFrame(),annotations&&(annotations.on("active:annotation",drawFrame),annotations.on("add:annotation",drawFrame),annotations.on("update:annotation",drawFrame)),viewer.on("change:dimension-".concat(dimension,":frame"),drawFrame),viewer.on("change:threshold",drawFrame),function(){annotations&&(annotations.off("active:annotation",drawFrame),annotations.off("add:annotation",drawFrame),annotations.off("update:annotation",drawFrame)),viewer.off("change:dimension-".concat(dimension,":frame"),drawFrame),viewer.off("change:threshold",drawFrame)}}),[]),(0,react.useEffect)((function(){expanded&&drawFrame()}),[expanded]),(0,jsx_runtime.jsxs)(Plane_StyledBox,{className:"plane-container plane-container-".concat(dimension," ").concat(expanded?"expanded":"collapsed"," no-select"),ref:containerRef,children:[(0,jsx_runtime.jsxs)("button",{"aria-controls":"section-".concat(planeId),"aria-expanded":expanded.toString(),"aria-label":"Toggle ".concat(viewer.dimensions[dimension]," Plane Visibility"),className:"plane-title ".concat(expanded?"expanded":"collapsed"),id:"accordion-".concat(planeId),onClick:function toggleContentVisibility(){setHideCoor(!1),setExpanded(!expanded)},type:"button",children:[(0,jsx_runtime.jsx)(Box.a,{className:"plane-title-dimension",children:viewer.getDimensionLabel({dimension})}),(0,jsx_runtime.jsx)(Box.a,{className:"plane-title-frame",children:hideCoor?"":currentFrameIndex}),(0,jsx_runtime.jsx)(Box.a,{className:"plane-title-label",children:expanded?"Collapse":"Expand"}),(0,jsx_runtime.jsx)("div",{className:"plane-title-toggle",children:expanded?(0,jsx_runtime.jsx)(FormUp.I,{}):(0,jsx_runtime.jsx)(FormDown.t,{})})]}),expanded&&(0,jsx_runtime.jsxs)(Box.a,{"aria-labelledby":"accordion-".concat(planeId),className:"plane-content",id:"section-".concat(planeId),role:"region",children:[(0,jsx_runtime.jsx)(Slider,{dimension,viewer}),(0,jsx_runtime.jsx)(Box.a,{className:"plane-canvas",children:(0,jsx_runtime.jsx)("canvas",{className:"plane-".concat(dimension),"data-testid":"plane-".concat(dimension),height:330,onClick,onContextMenu:onClick,onWheel:function onWheel(e){var frameCurrent=viewer.getPlaneFrameIndex({dimension}),frameNew=e.deltaY>0&&frameCurrent>0?frameCurrent-1:e.deltaY<0&&frameCurrent<viewer.base-1?frameCurrent+1:frameCurrent;viewer.setPlaneFrameActive({dimension,frame:frameNew})},ref:canvasRef,width:330})})]})]})};function ComponentFull_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Plane.displayName="Plane",Plane.propTypes={annotations:prop_types.object,dimension:prop_types.number,tool:prop_types.object,viewer:prop_types.object},Plane.__docgenInfo={description:"",methods:[],displayName:"Plane",props:{annotations:{description:"",type:{name:"custom",raw:"object"},required:!1},dimension:{description:"",type:{name:"custom",raw:"number"},required:!1},tool:{description:"",type:{name:"custom",raw:"object"},required:!1},viewer:{description:"",type:{name:"custom",raw:"object"},required:!1}}};var ComponentFull_StyledBox=(0,styled_components_browser_esm.default)(Box.a)(ComponentFull_templateObject||(ComponentFull_templateObject=ComponentFull_taggedTemplateLiteral(["\n  ","\n  \n  border-radius: 16px;\n  width: 100%;\n  \n  .volume-container {\n    background-color: #000000;\n    border-radius: 16px;\n    position: relative;\n\n    .volume-cube {\n      width: 100%;\n    }\n  }\n\n  @media (width > 1200px) {\n    max-width: 975px;\n\n    .planes-container {\n      margin: 20px;\n    }\n\n    .volume-container {\n      height: 575px;\n      min-width: 330px;\n      padding: 20px;\n      border-top-right-radius: 16px;\n\n      .volume-cube {\n        max-width: 460px;\n      }\n\n      .volume-controls {\n        margin-top: 0;\n        max-height: 60px;\n        width: 100%;\n      }\n    }\n  }\n  \n  @media (width <= 1200px) {\n    background: none;\n    border: none;\n    flex-direction: column-reverse;\n    max-width: 410px;\n\n    .planes-container {\n      margin: 20px 0 20px 20px;\n    }\n\n    .volume-container {\n      border-radius: 16px;\n      margin: 0 0 0 20px;\n      width: 390px;\n\n      .volume-cube {\n        max-width: 325px;\n        width: 100%;\n      }\n\n      .volume-controls {\n        margin: 20px 0;\n        width: 90%;\n      }\n    }\n  }\n\n  .no-select {\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    pointer-events: auto;\n    touch-action: none;\n    user-drag: none;\n    user-select: none;\n  }\n"])),(function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(ComponentFull_templateObject2||(ComponentFull_templateObject2=ComponentFull_taggedTemplateLiteral(["\n      background-color: none;\n      color: #FFFFFF;\n    "]))):(0,styled_components_browser_esm.css)(ComponentFull_templateObject3||(ComponentFull_templateObject3=ComponentFull_taggedTemplateLiteral(["\n      background-color: #FFFFFF;\n      border: .5px solid #A6A7A9;\n      border-bottom: none;\n      color: #000000;\n    "])))})),ComponentFull=function ComponentFull(_ref){var models=_ref.models;return(0,jsx_runtime.jsx)(Box.a,{flex:!0,align:"end",children:(0,jsx_runtime.jsxs)(ComponentFull_StyledBox,{direction:"row",children:[(0,jsx_runtime.jsx)(Box.a,{className:"planes-container",children:models.viewer.dimensions.map((function(dimensionName,dimension){return(0,jsx_runtime.jsx)(Plane,{annotations:models.annotations,dimension,tool:models.tool,viewer:models.viewer},"dimension-".concat(dimensionName))}))}),(0,jsx_runtime.jsxs)(Box.a,{className:"volume-container",flex:!0,align:"center",justify:"between",children:[(0,jsx_runtime.jsx)(Box.a,{className:"volume-cube",children:(0,jsx_runtime.jsx)(Cube.I,{annotations:models.annotations,tool:models.tool,viewer:models.viewer})}),(0,jsx_runtime.jsxs)(Box.a,{className:"volume-controls",flex:!0,direction:"row",justify:"between",children:[models.annotations?(0,jsx_runtime.jsx)(MarkButtons,{annotations:models.annotations}):(0,jsx_runtime.jsx)("div",{style:{flex:1}}),(0,jsx_runtime.jsx)(Histogram,{viewer:models.viewer})]})]})]})})};ComponentFull.displayName="ComponentFull",ComponentFull.propTypes={data:prop_types.string,models:prop_types.object},ComponentFull.__docgenInfo={description:"",methods:[],displayName:"ComponentFull",props:{data:{description:"",type:{name:"custom",raw:"string"},required:!1},models:{description:"",type:{name:"custom",raw:"object"},required:!1}}}}}]);