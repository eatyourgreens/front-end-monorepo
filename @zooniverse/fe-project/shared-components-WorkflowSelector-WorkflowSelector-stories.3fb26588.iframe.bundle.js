(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[9599],{"../../node_modules/grommet-icons/es6/StyledIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>StyledIcon});var react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),defaultProps={theme:{global:{colors:{icon:"#666666"}},icon:{size:{small:"12px",medium:"24px",large:"48px",xlarge:"96px"}}}},utils=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js"),_excluded=["a11yTitle","color","size","theme"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var normalizeColor=function normalizeColor(color,theme,dark){var colorSpec=theme.global&&void 0!==theme.global.colors[color]?theme.global.colors[color]:color,result=colorSpec;return colorSpec&&((!0===dark||void 0===dark&&theme.dark)&&void 0!==colorSpec.dark?result=colorSpec.dark:!1!==dark&&theme.dark||void 0===colorSpec.light||(result=colorSpec.light)),result&&theme.global&&void 0!==theme.global.colors[result]&&(result=normalizeColor(result,theme,dark)),result},colorStyle=function colorStyle(name,value,theme,required){return(0,styled_components_browser_esm.css)(["",":",";"],name,normalizeColor(value,theme,required))},colorCss=(0,styled_components_browser_esm.css)([""," "," g{fill:inherit;stroke:inherit;}*:not([stroke]){&[fill='none']{stroke-width:0;}}*[stroke*='#'],*[STROKE*='#']{stroke:inherit;fill:none;}*[fill-rule],*[FILL-RULE],*[fill*='#'],*[FILL*='#']{fill:inherit;stroke:none;}"],(function(props){return colorStyle("fill",props.color||props.theme.global.colors.icon,props.theme)}),(function(props){return colorStyle("stroke",props.color||props.theme.global.colors.icon,props.theme)})),IconInner=(0,react.forwardRef)((function(_ref,ref){var a11yTitle=_ref.a11yTitle,rest=(_ref.color,_ref.size,_ref.theme,function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}(_ref,_excluded));return react.createElement("svg",_extends({ref,"aria-label":a11yTitle},rest))}));IconInner.displayName="Icon";var StyledIcon=(0,styled_components_browser_esm.default)(IconInner).withConfig({shouldForwardProp:function shouldForwardProp(prop){return!["height","width"].includes(prop)}}).withConfig({displayName:"StyledIcon",componentId:"sc-ofa7kd-0"})(["display:inline-block;flex:0 0 auto;"," "," "," ",""],(function(_ref2){var _size$match,_ref2$size=_ref2.size,sizeProp=void 0===_ref2$size?"medium":_ref2$size,theme=_ref2.theme,_split=(_ref2.viewBox||"0 0 24 24").split(" "),w=_split[2],h=_split[3],scale=w/h,size=theme.icon.size[sizeProp]||sizeProp,dimension=(0,utils.HY)(size),unit=(null==(_size$match=size.match(/[a-z]+$/))?void 0:_size$match[0])||"px";return w<h?"\n      width: "+dimension+unit+";\n      height: "+dimension/scale+unit+";\n    ":h<w?"\n      width: "+dimension*scale+unit+";\n      height: "+dimension+unit+";\n    ":"\n      width: "+dimension+unit+";\n      height: "+dimension+unit+";\n    "}),(function(_ref3){return"plain"!==_ref3.color&&colorCss}),(function(props){return(props.height||props.width)&&(0,utils.zj)(props)}),(function(_ref4){var theme=_ref4.theme;return theme&&theme.icon.extend}));StyledIcon.defaultProps={},Object.setPrototypeOf(StyledIcon.defaultProps,defaultProps)},"../../node_modules/grommet-icons/es6/icons/Next.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>Next});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Next=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(props,ref){var scaleProps=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.Uf)(props);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_2__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Next"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",_extends({fill:"none",stroke:"#000",strokeWidth:"2",d:"m7 2 10 10L7 22"},scaleProps)))}));Next.displayName="Next"},"../../node_modules/grommet-icons/es6/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HY:()=>parseMetricToNum,Uf:()=>useScaleProps,w6:()=>generatePrefix,zj:()=>iconPad});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");var parseMetricToNum=function parseMetricToNum(string){return void 0===string&&(string=""),parseFloat(string.match(/\d+(\.\d+)?/),10)};function useScaleProps(props){var _theme$icon,theme=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(styled_components__WEBPACK_IMPORTED_MODULE_1__.ThemeContext),size=props.size,result={};null!=theme&&null!=(_theme$icon=theme.icon)&&_theme$icon.disableScaleDown&&(parseMetricToNum(theme.icon.size[size]||size)<24&&(result.vectorEffect="non-scaling-stroke"));return result}var calculatePad=function calculatePad(value,iconDimension){return(value-iconDimension)/2+"px"};function iconPad(props){var _theme$icon2,_theme$text,_theme$text2,_window,height=props.height,_props$size=props.size,size=void 0===_props$size?"medium":_props$size,width=props.width,theme=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(styled_components__WEBPACK_IMPORTED_MODULE_1__.ThemeContext),iconDimension=parseMetricToNum((null==theme||null==(_theme$icon2=theme.icon)||null==(_theme$icon2=_theme$icon2.size)?void 0:_theme$icon2[size])||size),style="",rootFontSize=parseMetricToNum("16px");"undefined"!=typeof window&&(rootFontSize=parseMetricToNum((null==(_window=window)?void 0:_window.getComputedStyle(document.body).getPropertyValue("font-size"))||"16px"));if(height&&null!=theme&&null!=(_theme$text=theme.text)&&null!=(_theme$text=_theme$text[height])&&_theme$text.height){var unit=theme.text[height].height.match(/(px|rem)/)[0],lineHeight=parseMetricToNum(theme.text[height].height);if("rem"===unit&&(lineHeight*=rootFontSize),lineHeight>iconDimension){var pad=calculatePad(lineHeight,iconDimension);style+="padding-top: "+pad+"; padding-bottom: "+pad+";"}}if(width&&null!=theme&&null!=(_theme$text2=theme.text)&&null!=(_theme$text2=_theme$text2[width])&&_theme$text2.height){var _unit=theme.text[width].height.match(/(px|rem)/)[0],desiredWidth=parseMetricToNum(theme.text[width].height);if("rem"===_unit&&(desiredWidth*=rootFontSize),desiredWidth>iconDimension){var _pad=calculatePad(desiredWidth,iconDimension);style+="padding-left: "+_pad+"; padding-right: "+_pad+";"}}return style}var generatePrefix=function generatePrefix(name){return"_grommeticons-"+name+"-"+(Date.now()+Math.random())}},"../lib-async-states/src/async-states.js":module=>{var asyncStates={};Object.defineProperty(asyncStates,"initialized",{value:"initialized",enumerable:!0}),Object.defineProperty(asyncStates,"loading",{value:"loading",enumerable:!0}),Object.defineProperty(asyncStates,"putting",{value:"putting",enumerable:!0}),Object.defineProperty(asyncStates,"posting",{value:"posting",enumerable:!0}),Object.defineProperty(asyncStates,"success",{value:"success",enumerable:!0}),Object.defineProperty(asyncStates,"error",{value:"error",enumerable:!0}),Object.defineProperty(asyncStates,"values",{value:Object.values(asyncStates)}),module.exports=asyncStates},"./src/shared/components/WorkflowSelector/WorkflowSelector.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AssignedInactiveWorkflow:()=>AssignedInactiveWorkflow,Default:()=>Default,Error:()=>Error,Loading:()=>Loading,WithWorkflowAssignment:()=>WithWorkflowAssignment,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../lib-async-states/src/async-states.js"),_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1__),grommet__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),mobx_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),next_dist_shared_lib_router_context_shared_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/next/dist/shared/lib/router-context.shared-runtime.js"),msw__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/msw/lib/core/http.mjs"),msw__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/msw/lib/core/HttpResponse.mjs"),_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/components/WorkflowSelector/WorkflowSelector.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,asyncStatesOptions=Object.values(_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default()),store={project:{background:{src:"https://panoptes-uploads.zooniverse.org/production/project_background/260e68fd-d3ec-4a94-bb32-43ff91d5579a.jpeg"},description:"Learn about and help document the wonders of nesting Western Bluebirds.",display_name:"Nest Quest Go: Western Bluebirds",slug:"brbcornell/nest-quest-go-western-bluebirds",workflow_description:'Choose your own adventure! There are many ways to engage with this project:\n      1) "Nest Site": Smartphone-friendly, helps us understand where Western Bluebirds build their nests.\n      2) "Location": Smartphone-friendly, series of questions on the geographic location of the nest.\n      3) "Nest Attempt: Smartphone-friendly, for data-entry lovers to record nest attempt data on cards.\n      4) "Comments": For transcription lovers, we ask you to transcribe all the written comments on the cards.'}},router={locale:"en",query:{owner:"test-owner",project:"test-project"},prefetch:function prefetch(){return Promise.resolve()}},WORKFLOWS=[{completeness:.65,configuration:{level:1},default:!1,displayName:"The Family and the Fishing Net (Level 1)",id:"12345"},{completeness:0,configuration:{level:2},default:!1,displayName:"Games Without Frontiers (Level 2)",grouped:!0,id:"7890"},{completeness:.99,configuration:{level:4},default:!1,displayName:"Shock The Monkey (Level 4)",grouped:!0,prioritized:!0,id:"5678"}];function StoryContext(Story){return __jsx(next_dist_shared_lib_router_context_shared_runtime__WEBPACK_IMPORTED_MODULE_2__.RouterContext.Provider,{value:router},__jsx(mobx_react__WEBPACK_IMPORTED_MODULE_4__.Kq,{store},__jsx(grommet__WEBPACK_IMPORTED_MODULE_5__.a,{pad:"small"},__jsx(Story,null))))}StoryContext.displayName="StoryContext";const __WEBPACK_DEFAULT_EXPORT__={title:"Project App / Shared / Workflow Selector",component:_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__.A,decorators:[StoryContext],argTypes:{userReadyState:{options:asyncStatesOptions}},parameters:{msw:{handlers:[msw__WEBPACK_IMPORTED_MODULE_6__.L.get("".concat("https://www.zooniverse.org","/api/workflows"),(function(_ref){var request=_ref.request,searchParams=new URL(request.url).searchParams;return"configuration"===searchParams.get("fields")&&"9012"===searchParams.get("id")?msw__WEBPACK_IMPORTED_MODULE_7__.c.json({workflows:[{id:"9012",configuration:{level:3}}]}):new msw__WEBPACK_IMPORTED_MODULE_7__.c(null,{status:404,statusText:"MSW did not find the workflow"})}))]}}};function Default(_ref2){var assignedWorkflowID=_ref2.assignedWorkflowID,uppLoaded=_ref2.uppLoaded,userReadyState=_ref2.userReadyState,workflowAssignmentEnabled=_ref2.workflowAssignmentEnabled,workflowDescription=_ref2.workflowDescription,workflows=_ref2.workflows;return __jsx(_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__.A,{assignedWorkflowID,uppLoaded,userReadyState,workflowAssignmentEnabled,workflowDescription,workflows})}function WithWorkflowAssignment(_ref3){var assignedWorkflowID=_ref3.assignedWorkflowID,uppLoaded=_ref3.uppLoaded,userReadyState=_ref3.userReadyState,workflowAssignmentEnabled=_ref3.workflowAssignmentEnabled,workflowDescription=_ref3.workflowDescription,workflows=_ref3.workflows;return __jsx(_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__.A,{assignedWorkflowID,uppLoaded,workflowAssignmentEnabled,workflowDescription,userReadyState,workflows})}function AssignedInactiveWorkflow(_ref4){var assignedWorkflowID=_ref4.assignedWorkflowID,uppLoaded=_ref4.uppLoaded,userReadyState=_ref4.userReadyState,workflowAssignmentEnabled=_ref4.workflowAssignmentEnabled,workflowDescription=_ref4.workflowDescription,workflows=_ref4.workflows;return __jsx(_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__.A,{assignedWorkflowID,uppLoaded,workflowAssignmentEnabled,workflowDescription,userReadyState,workflows})}function Loading(_ref5){var uppLoaded=_ref5.uppLoaded,userReadyState=_ref5.userReadyState,workflowDescription=_ref5.workflowDescription,workflows=_ref5.workflows;return __jsx(_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__.A,{uppLoaded,userReadyState,workflowDescription,workflows})}function Error(_ref6){var uppLoaded=_ref6.uppLoaded,userReadyState=_ref6.userReadyState,workflowDescription=_ref6.workflowDescription,workflows=_ref6.workflows;return __jsx(_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__.A,{uppLoaded,userReadyState,workflowDescription,workflows})}Default.displayName="Default",Default.args={assignedWorkflowID:"",uppLoaded:!0,userReadyState:_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default().success,workflowAssignmentEnabled:!1,workflowDescription:store.project.workflow_description,workflows:WORKFLOWS},WithWorkflowAssignment.displayName="WithWorkflowAssignment",WithWorkflowAssignment.args={assignedWorkflowID:"7890",uppLoaded:!0,userReadyState:_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default().success,workflowAssignmentEnabled:!0,workflowDescription:"",workflows:WORKFLOWS},AssignedInactiveWorkflow.displayName="AssignedInactiveWorkflow",AssignedInactiveWorkflow.args={assignedWorkflowID:"9012",uppLoaded:!0,userReadyState:_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default().success,workflowAssignmentEnabled:!0,workflowDescription:"",workflows:WORKFLOWS},Loading.displayName="Loading",Loading.args={uppLoaded:!1,userReadyState:_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default().loading,workflowAssignmentEnabled:!1,workflowDescription:store.project.workflow_description,workflows:WORKFLOWS},Error.displayName="Error",Error.args={uppLoaded:!1,userReadyState:_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_1___default().error,workflowAssignmentEnabled:!1,workflowDescription:store.project.workflow_description,workflows:WORKFLOWS},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"function Default({\n  assignedWorkflowID,\n  uppLoaded,\n  userReadyState,\n  workflowAssignmentEnabled,\n  workflowDescription,\n  workflows\n}) {\n  return <WorkflowSelector assignedWorkflowID={assignedWorkflowID} uppLoaded={uppLoaded} userReadyState={userReadyState} workflowAssignmentEnabled={workflowAssignmentEnabled} workflowDescription={workflowDescription} workflows={workflows} />;\n}",...Default.parameters?.docs?.source}}},WithWorkflowAssignment.parameters={...WithWorkflowAssignment.parameters,docs:{...WithWorkflowAssignment.parameters?.docs,source:{originalSource:"function WithWorkflowAssignment({\n  assignedWorkflowID,\n  uppLoaded,\n  userReadyState,\n  workflowAssignmentEnabled,\n  workflowDescription,\n  workflows\n}) {\n  return <WorkflowSelector assignedWorkflowID={assignedWorkflowID} uppLoaded={uppLoaded} workflowAssignmentEnabled={workflowAssignmentEnabled} workflowDescription={workflowDescription} userReadyState={userReadyState} workflows={workflows} />;\n}",...WithWorkflowAssignment.parameters?.docs?.source}}},AssignedInactiveWorkflow.parameters={...AssignedInactiveWorkflow.parameters,docs:{...AssignedInactiveWorkflow.parameters?.docs,source:{originalSource:"function AssignedInactiveWorkflow({\n  assignedWorkflowID,\n  uppLoaded,\n  userReadyState,\n  workflowAssignmentEnabled,\n  workflowDescription,\n  workflows\n}) {\n  return <WorkflowSelector assignedWorkflowID={assignedWorkflowID} uppLoaded={uppLoaded} workflowAssignmentEnabled={workflowAssignmentEnabled} workflowDescription={workflowDescription} userReadyState={userReadyState} workflows={workflows} />;\n}",...AssignedInactiveWorkflow.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"function Loading({\n  uppLoaded,\n  userReadyState,\n  workflowDescription,\n  workflows\n}) {\n  return <WorkflowSelector uppLoaded={uppLoaded} userReadyState={userReadyState} workflowDescription={workflowDescription} workflows={workflows} />;\n}",...Loading.parameters?.docs?.source}}},Error.parameters={...Error.parameters,docs:{...Error.parameters?.docs,source:{originalSource:"function Error({\n  uppLoaded,\n  userReadyState,\n  workflowDescription,\n  workflows\n}) {\n  return <WorkflowSelector uppLoaded={uppLoaded} userReadyState={userReadyState} workflowDescription={workflowDescription} workflows={workflows} />;\n}",...Error.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithWorkflowAssignment","AssignedInactiveWorkflow","Loading","Error"]}}]);